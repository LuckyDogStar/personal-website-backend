name: Go

on: push
env:
  GO_VERSION:1.16.x

jobs:

  test-infrastructure:
    runs-on: ubuntu-latest
    timeout-minutes: 2
    steps:
    - uses: actions/checkout@v2
    - name: Set up Go
      uses: actions/setup-go@v2
      with:
        go-version:${{env.GO_VERSION}}

    - name: test get-function
      run: cd get-function && go test -v ./ && cd ../../

    - name: test put-function
      run: cd put-function && go test -v ./ && cd ../../
